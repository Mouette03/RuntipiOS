# ===================================================
# Configuration RuntipiOS
# ===================================================

# -- Configuration de l'image de base --
raspios:
  # URL de l'image Raspberry Pi OS Lite 64-bit.
  # Trouvez les dernières versions sur : https://downloads.raspberrypi.com/raspios_lite_arm64/images/
  url: "https://downloads.raspberrypi.com/raspios_lite_arm64/images/raspios_lite_arm64-2025-10-02/2025-10-01-raspios-trixie-arm64-lite.img.xz"
  # Architecture (ne pas changer, lié à l'URL ci-dessus)
  arch: "arm64"

# -- Configuration du système --
system:
  hostname: "runtipios"
  timezone: "Europe/Paris"
  locale: "fr_FR.UTF-8"
  keyboard_layout: "fr"
  # Pays pour la réglementation WiFi (essentiel pour que le WiFi fonctionne)
  wifi_country: "FR"
  # Utilisateur et mot de passe par défaut.
  # L'utilisateur sera invité à changer le mot de passe à la première connexion SSH.
  default_user: "runtipi"
  default_password: "runtipi"
  # Activer l'autologin en console pour le débogage (true/false)
  autologin: false

# -- Configuration de Runtipi --
runtipi:
  # L'installation se fait via le script officiel. La version est gérée par ce script.
  auto_install: true

# -- Configuration du portail WiFi --
wifi_connect:
  # Version de Balena WiFi-Connect à utiliser.
  # Voir : https://github.com/balena-io/wifi-connect/releases
  version: "4.4.6"
  # Nom du réseau WiFi temporaire qui sera créé
  ssid: "RuntipiOS-Setup"

# -- Options de build --
build:
  # Taille finale de l'image en Gigaoctets. 4Go est un bon compromis.
  image_size: 4
  # Format de compression de l'image finale (xz, gz, ou zip)
  compression_format: "xz"

# -- Paquets additionnels --
# Liste des paquets à installer en plus du système de base.
packages:
  install:
    - "htop"
    - "ncdu"
    - "vim"
    - "unattended-upgrades" # Pour les mises à jour de sécurité automatiques
  # Liste des paquets à supprimer (utile si vous partiez d'une image non-lite)
  remove:
    - "wolfram-engine"
    - "libreoffice*"